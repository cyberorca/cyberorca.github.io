<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Document</title>
        <link rel="stylesheet" href="https://kly-arkhabmaulana.github.io/sample-preview/pojoaque.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
        <script src="https://kly-arkhabmaulana.github.io/sample-preview/highlight.pack.js"></script>

        <script>
            hljs.initHighlightingOnLoad();
            hljs.highlightAll();
        </script>
    </head>
    <body>
        <div class="container">
            <ul class="nav nav-tabs mt-5" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="www-briliofood-tab" data-toggle="tab" href="#www-briliofood" role="tab" aria-controls="www-briliofood" aria-selected="true">GPT BRILIOFOOD DESKTOP</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="m-briliofood-tab" data-toggle="tab" href="#m-briliofood" role="tab" aria-controls="m-briliofood" aria-selected="false">GPT BRILIOFOOD MOBILE</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="www-briliofood" role="tabpanel" aria-labelledby="www-briliofood-tab">

<pre>                        
    <code class="language-html">
    [ ==== TAG CONTAINER MASTHEAD DESKTOP ===== ]

    Letakkan dibawah tag penutup header :
    &lt;/header&gt;
    .
    .
    &lt;!--  MASTHEAD CONTAINER - START --&gt;
    &lt;aside&gt;
        &lt;div id="dfp-gpt-ad-desktop-masthead"&gt;&lt;/div&gt;
    &lt;/aside&gt;
    &lt;!--  MASTHEAD CONTAINER - END --&gt;
    </code>
</pre>
<pre>                        
    <code class="language-javascript">
    /** GPT BRILIOFOOD DESKTOP - HOMEPAGE **/
    var category_page = "Homepage";
    String.prototype.klyFiltering = function(delimiter) {
        return this.trim().split(delimiter).map(function(t) {
            return t.trim().toLowerCase()
        }).filter(x => x != "");
    };

    googletag.cmd.push(function() {

        googletag.defineOutOfPageSlot('/36504930/brilio.net/desktop/masthead', 'dfp-gpt-ad-desktop-masthead').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/desktop/dfp-sc', [300, 250], 'dfp-gpt-ad-desktop-sc').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/desktop/dfp-sc2', [300, 250], 'dfp-gpt-ad-desktop-sc2').addService(googletag.pubads()).setTargeting("currentUrl", 0);

        var tagForAds = (typeof window.kly !== 'undefined') ? kly.gtm.tag.klyFiltering("|") : [];
        var urlPath = document.URL;
        googletag.pubads().setTargeting("tags", tagForAds);
        googletag.pubads().setTargeting("currentUrl", urlPath);
        googletag.pubads().setTargeting("channel", kly.gtm.subCategory);
        googletag.pubads().setTargeting("site", kly.site);

        googletag.pubads().enableSingleRequest();
        googletag.pubads().collapseEmptyDivs();
        googletag.enableServices();

    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-masthead');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-sc');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-sc2');
    });
    </code>
</pre>
<pre>                        
    <code class="language-javascript">
    /** GPT BRILIOFOOD DESKTOP - READPAGE **/
    var category_page = "ReadPage";

    String.prototype.klyFiltering = function(delimiter) {
        return this.trim().split(delimiter).map(function(t) {
            return t.trim().toLowerCase()
        }).filter(x => x != "");
    };

    googletag.cmd.push(function() {
        googletag.defineOutOfPageSlot('/36504930/brilio.net/desktop/masthead', 'dfp-gpt-ad-desktop-masthead').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/desktop/dfp-sc', [300, 250], 'dfp-gpt-ad-desktop-sc').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/desktop/dfp-sc2', [300, 250], 'dfp-gpt-ad-desktop-sc2').addService(googletag.pubads()).setTargeting("currentUrl", 0);

        //set targetting key value apa saja yg ingin dimasukkan dalam 1 kali adrequest
        var tagForAds = (typeof window.kly !== 'undefined') ? kly.gtm.tag.klyFiltering("|") : [];
        var urlPath = document.URL;
        googletag.pubads().setTargeting("tags", tagForAds);
        googletag.pubads().setTargeting("currentUrl", urlPath);
        googletag.pubads().setTargeting("channel", kly.gtm.subCategory);
        googletag.pubads().setTargeting("site", kly.site);

        googletag.pubads().enableSingleRequest();
        googletag.pubads().collapseEmptyDivs();
        googletag.enableServices();

    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-masthead');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-sc');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-sc2');
    });
    </code>
</pre>
<pre>                        
    <code class="language-javascript">
    /** GPT BRILIOFOOD DESKTOP - CHANNELPAGE **/
    var category_page = "ChannelPage";

    String.prototype.klyFiltering = function(delimiter) {
        return this.trim().split(delimiter).map(function(t) {
            return t.trim().toLowerCase()
        }).filter(x => x != "");
    };

    googletag.cmd.push(function() {
        googletag.defineOutOfPageSlot('/36504930/brilio.net/desktop/masthead', 'dfp-gpt-ad-desktop-masthead').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/desktop/dfp-sc', [300, 250], 'dfp-gpt-ad-desktop-sc').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/desktop/dfp-sc2', [300, 250], 'dfp-gpt-ad-desktop-sc2').addService(googletag.pubads()).setTargeting("currentUrl", 0);
       
        //set targetting key value apa saja yg ingin dimasukkan dalam 1 kali adrequest
        var tagForAds = (typeof window.kly !== 'undefined') ? kly.gtm.tag.klyFiltering("|") : [];
        var urlPath = document.URL;
        googletag.pubads().setTargeting("tags", tagForAds);
        googletag.pubads().setTargeting("currentUrl", urlPath);
        googletag.pubads().setTargeting("channel", kly.gtm.subCategory);
        googletag.pubads().setTargeting("site", kly.site);


        googletag.pubads().enableSingleRequest();
        googletag.pubads().collapseEmptyDivs();
        googletag.enableServices();

    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-masthead');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-sc');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-desktop-sc2');
    });
    </code>
</pre>
                </div>
<div class="tab-pane fade" id="m-briliofood" role="tabpanel" aria-labelledby="m-briliofood-tab">
<pre>                        
    <code class="language-html">
    [ ==== TAG CONTAINER MASTHEAD MOBILE ===== ]

    Letakkan dibawah tag penutup header :
    &lt;/header&gt;
    .
    .
    &lt;!--  MASTHEAD CONTAINER - START --&gt;
    &lt;aside&gt;
        &lt;div id="dfp-gpt-ad-mobile-masthead"&gt;&lt;/div&gt;
    &lt;/aside&gt;
    &lt;!--  MASTHEAD CONTAINER - END --&gt;
    </code>
</pre>
<pre>
<code class="javascaript">   
    /** GPT BRILIOFOOD MOBILE - HOMEPAGE **/                  
    var category_page = "Homepage";

    String.prototype.klyFiltering = function(delimiter) {
        return this.trim().split(delimiter).map(function(t) {
            return t.trim().toLowerCase()
        }).filter(x => x != "");
    };
    
    window.GAMLibrary = {};
    window.GAMLibrary = {
        dfpBottomFrame: '/36504930/brilio.net/mobile/dfp-bottomfrm',
        timedBottomFrm: null,
        defineLazySlot: null,
        setGamBFInterval: function(active = true) {
            if (!active) {
                if (window.GAMLibrary.gamBFInterval) {
                    clearInterval(window.GAMLibrary.gamBFInterval);
                }
                return;
            }
            window.GAMLibrary.gamBFInterval = setInterval(function() {
                googletag.pubads().refresh([window.GAMLibrary.refreshSlot]);
            }, 60000);
        },
        scrollBottomFrame: function() {
            this.scroll = function() {
                var scrollNode = document.scrollingElement || document.documentElement;
                var scrollTop = scrollNode.scrollTop;
                if (scrollTop >= 200) {
                    if (!this.timedBottomFrm) {
                        console.log("generated!", scrollTop);
                        this.timedBottomFrm = googletag.defineSlot(this.dfpBottomFrame, [320, 50],
                            'dfp-gpt-ad-mobile-bottomfrm').addService(googletag.pubads());
                        googletag.pubads().refresh([this.timedBottomFrm]);
                        this.refreshSlot = this.timedBottomFrm;
                        this.setGamBFInterval(false);
                    } else {
                        window.removeEventListener("scroll", this.scroll);
                    }
    
                }
            };
            this.scrollHandler = this.scroll.bind(this);
            window.addEventListener("scroll", this.scrollHandler);
        },
        lazzyLoadingAdunit: function() {
            const noIntersectionMethod = !window.IntersectionObserver;
            this.lazzyLoadingAdunit = this.lazzyLoadingAdunit.bind(this);
            var lazzYSetting = {
                "dfp-gpt-ad-mobile-headline": {
                    "type": "fixed",
                    "adunit": "/36504930/brilio.net/mobile/dfp-headline",
                    "generated": 0,
                    "size": [320, 50]
                }
            }
            let options = {
                rootMargin: '0px 0px -50% 0px',
                threshold: 0.5 // half of item height
            };
            let prevRatio = 0.0;
            let observer = null;
            if (noIntersectionMethod) {
    
                window.addEventListener("scroll", renderAdunit);
    
            } else {
    
                observer = new IntersectionObserver(entries => {
                    const [{
                        isIntersecting
                    }] = entries;
                    const [{
                        target
                    }] = entries;
                    if (isIntersecting) {
                        console.log('intersected', entries);
                        value = lazzYSetting[target.id];
                        if (!value.generated) {
                            if (value.type == "oop") {
                                this.defineLazySlot = googletag.defineOutOfPageSlot(value.adunit, target
                                    .id).addService(googletag.pubads());
                            } else {
                                this.defineLazySlot = googletag.defineSlot(value.adunit, value.size,
                                    target.id).addService(googletag.pubads());
                            }
                            googletag.display(this.defineLazySlot);
                            googletag.pubads().refresh([this.defineLazySlot]);
                            value.generated = 1;
                            console.log("generated headline !");
                        }
                    }
                }, options);
    
                for (const [key, value] of Object.entries(lazzYSetting)) {
                    let adunitElement = document.querySelector(`#${key}`);
                    if (adunitElement) {
                        observer.observe(adunitElement);
                    }
                };
            }
    
            function renderAdunit() {
                var generatedCount = 0;
                var itemCount = 0;
    
                for (const [key, value] of Object.entries(lazzYSetting)) {
                    itemCount++;
    
                    if (!value.generated && elementInViewport(document.getElementById(key))) {
    
                        if (value.type == "oop") {
                            this.defineLazySlot = googletag.defineOutOfPageSlot(value.adunit, key).addService(
                                googletag.pubads());
                        } else {
                            this.defineLazySlot = googletag.defineSlot(value.adunit, value.size, key)
                                .addService(googletag.pubads());
                        }
    
                        googletag.display(this.defineLazySlot);
                        googletag.pubads().refresh([this.defineLazySlot]);
                        value.generated = 1;
    
                    }
    
                    if (generatedCount == itemCount) {
                        window.removeEventListener('scroll', renderAdunit);
                    }
                }
    
            }
    
            function elementInViewport(el) {
                let rect = el.getBoundingClientRect()
                return (
                    rect.top >= 0 && rect.left >= 0 && rect.top <= (window.innerHeight || document
                        .documentElement.clientHeight)
                )
            }
        }
    
    };
    
    googletag.cmd.push(function() {
    
        googletag.defineSlot('/36504930/brilio.net/mobile/dfp-sc', [300, 250], 'dfp-gpt-ad-mobile-sc').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/mobile/dfp-sc2', [300, 250], 'dfp-gpt-ad-mobile-sc2').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineOutOfPageSlot('/36504930/brilio.net/mobile/masthead', 'dfp-gpt-ad-mobile-masthead').addService(googletag.pubads()).setTargeting("currentUrl", 0);
    
        GAMLibrary.lazzyLoadingAdunit();
        GAMLibrary.scrollBottomFrame();
    
        //set targetting key value apa saja yg ingin dimasukkan dalam 1 kali adrequest
        var tagForAds = (typeof window.kly !== 'undefined') ? kly.gtm.tag.klyFiltering("|") : [];
        var urlPath = document.URL;
        googletag.pubads().setTargeting("tags", tagForAds);
        googletag.pubads().setTargeting("currentUrl", urlPath);
        googletag.pubads().setTargeting("channel", kly.gtm.subCategory);
        googletag.pubads().setTargeting("site", kly.site);
    
        googletag.pubads().enableSingleRequest();
        googletag.pubads().collapseEmptyDivs();
        googletag.enableServices();
    
    });
    
    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-sc');
    });
    
    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-sc2');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-masthead');
    });
    
    googletag.cmd.push(function() {
        // Sticky Headline Banner
        p = "/36504930/brilio.net/mobile/dfp-headline";
        googletag.pubads().addEventListener('slotRenderEnded', function(e) {
            var a = e.isEmpty ? "none" : "block",
                t = e.slot.getSlotId().getAdUnitPath(),
                o = e.slot.getSlotId().getId();
    
            if ("block" == a && p == t) {
                /* sticky */
                var lastScroll = 500;
                var e = document.getElementById("dfp-gpt-ad-mobile-headline");
                var child = e.children[0];
                var position = child.offsetTop;
                lastScroll = position;
    
                //var lastScroll = $('#social-share').offset().top;
                var o = true;
                $(window).scroll(function(event) {
                    //Sets the current scroll position
                    var st = $(this).scrollTop();
    
                    //Determines up-or-down scrolling
                    if (st > lastScroll && o) {
                        if (st > position) {
                            e.classList.add("dfp-hl-sticky");
    
                            var share_active = $(".share-fixed").hasClass("active");
                            if (share_active) {
                                // e.classList.add("up");
                            } else {
                                e.classList.remove("up");
                            }
    
                            window.setTimeout(function() {
                                e.classList.remove("dfp-hl-sticky");
                                o = false;
                            }, 5000);
                        }
                    } else if (st <= position && o) {
                        e.classList.remove("dfp-hl-sticky");
                    } else {
                        e.classList.remove("up");
                    }
                    //Updates scroll position
                    lastScroll = st;
                });
            }
        });
        // End Sticky Headline Banner
    });
</code>
</pre>
<pre>
<code class="javascaript">      
    /** GPT BRILIOFOOD MOBILE - CHANNELPAGE **/                   
    var category_page = "ChannelPage";

    String.prototype.klyFiltering = function(delimiter) {
        return this.trim().split(delimiter).map(function(t) {
            return t.trim().toLowerCase()
        }).filter(x => x != "");
    };
    
    window.GAMLibrary = {};
    window.GAMLibrary = {
        dfpBottomFrame: '/36504930/brilio.net/mobile/dfp-bottomfrm',
        timedBottomFrm: null,
        defineLazySlot: null,
        setGamBFInterval: function(active = true) {
            if (!active) {
                if (window.GAMLibrary.gamBFInterval) {
                    clearInterval(window.GAMLibrary.gamBFInterval);
                }
                return;
            }
            window.GAMLibrary.gamBFInterval = setInterval(function() {
                googletag.pubads().refresh([window.GAMLibrary.refreshSlot]);
            }, 60000);
        },
        scrollBottomFrame: function() {
            this.scroll = function() {
                var scrollNode = document.scrollingElement || document.documentElement;
                var scrollTop = scrollNode.scrollTop;
                if (scrollTop >= 200) {
                    if (!this.timedBottomFrm) {
                        console.log("generated!", scrollTop);
                        this.timedBottomFrm = googletag.defineSlot(this.dfpBottomFrame, [320, 50],
                            'dfp-gpt-ad-mobile-bottomfrm').addService(googletag.pubads());
                        googletag.pubads().refresh([this.timedBottomFrm]);
                        this.refreshSlot = this.timedBottomFrm;
                        this.setGamBFInterval(false);
                    } else {
                        window.removeEventListener("scroll", this.scroll);
                    }
    
                }
            };
            this.scrollHandler = this.scroll.bind(this);
            window.addEventListener("scroll", this.scrollHandler);
        },
        lazzyLoadingAdunit: function() {
            const noIntersectionMethod = !window.IntersectionObserver;
            this.lazzyLoadingAdunit = this.lazzyLoadingAdunit.bind(this);
            var lazzYSetting = {
                "dfp-gpt-ad-mobile-headline": {
                    "type": "fixed",
                    "adunit": "/36504930/brilio.net/mobile/dfp-headline",
                    "generated": 0,
                    "size": [320, 50]
                }
            }
            let options = {
                rootMargin: '0px 0px -50% 0px',
                threshold: 0.5 // half of item height
            };
            let prevRatio = 0.0;
            let observer = null;
            if (noIntersectionMethod) {
    
                window.addEventListener("scroll", renderAdunit);
    
            } else {
    
                observer = new IntersectionObserver(entries => {
                    const [{
                        isIntersecting
                    }] = entries;
                    const [{
                        target
                    }] = entries;
                    if (isIntersecting) {
                        console.log('intersected', entries);
                        value = lazzYSetting[target.id];
                        if (!value.generated) {
                            if (value.type == "oop") {
                                this.defineLazySlot = googletag.defineOutOfPageSlot(value.adunit, target
                                    .id).addService(googletag.pubads());
                            } else {
                                this.defineLazySlot = googletag.defineSlot(value.adunit, value.size,
                                    target.id).addService(googletag.pubads());
                            }
                            googletag.display(this.defineLazySlot);
                            googletag.pubads().refresh([this.defineLazySlot]);
                            value.generated = 1;
                            console.log("generated headline !");
                        }
                    }
                }, options);
    
                for (const [key, value] of Object.entries(lazzYSetting)) {
                    let adunitElement = document.querySelector(`#${key}`);
                    if (adunitElement) {
                        observer.observe(adunitElement);
                    }
                };
            }
    
            function renderAdunit() {
                var generatedCount = 0;
                var itemCount = 0;
    
                for (const [key, value] of Object.entries(lazzYSetting)) {
                    itemCount++;
    
                    if (!value.generated && elementInViewport(document.getElementById(key))) {
    
                        if (value.type == "oop") {
                            this.defineLazySlot = googletag.defineOutOfPageSlot(value.adunit, key).addService(
                                googletag.pubads());
                        } else {
                            this.defineLazySlot = googletag.defineSlot(value.adunit, value.size, key)
                                .addService(googletag.pubads());
                        }
    
                        googletag.display(this.defineLazySlot);
                        googletag.pubads().refresh([this.defineLazySlot]);
                        value.generated = 1;
    
                    }
    
                    if (generatedCount == itemCount) {
                        window.removeEventListener('scroll', renderAdunit);
                    }
                }
    
            }
    
            function elementInViewport(el) {
                let rect = el.getBoundingClientRect()
                return (
                    rect.top >= 0 && rect.left >= 0 && rect.top <= (window.innerHeight || document
                        .documentElement.clientHeight)
                )
            }
        }
    
    };
    
    googletag.cmd.push(function() {
    
        googletag.defineSlot('/36504930/brilio.net/mobile/dfp-sc', [300, 250], 'dfp-gpt-ad-mobile-sc').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/mobile/dfp-sc2', [300, 250], 'dfp-gpt-ad-mobile-sc2').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineOutOfPageSlot('/36504930/brilio.net/mobile/masthead', 'dfp-gpt-ad-mobile-masthead').addService(googletag.pubads()).setTargeting("currentUrl", 0);
    
        GAMLibrary.lazzyLoadingAdunit();
        GAMLibrary.scrollBottomFrame();
    
        //set targetting key value apa saja yg ingin dimasukkan dalam 1 kali adrequest
        var tagForAds = (typeof window.kly !== 'undefined') ? kly.gtm.tag.klyFiltering("|") : [];
        var urlPath = document.URL;
        googletag.pubads().setTargeting("tags", tagForAds);
        googletag.pubads().setTargeting("currentUrl", urlPath);
        googletag.pubads().setTargeting("channel", kly.gtm.subCategory);
        googletag.pubads().setTargeting("site", kly.site);
    
        googletag.pubads().enableSingleRequest();
        googletag.pubads().collapseEmptyDivs();
        googletag.enableServices();
    
    });
    
    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-sc');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-sc2');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-masthead');
    });
    
    googletag.cmd.push(function() {
        // Sticky Headline Banner
        p = "/36504930/brilio.net/mobile/dfp-headline";
        googletag.pubads().addEventListener('slotRenderEnded', function(e) {
            var a = e.isEmpty ? "none" : "block",
                t = e.slot.getSlotId().getAdUnitPath(),
                o = e.slot.getSlotId().getId();
    
            if ("block" == a && p == t) {
                /* sticky */
                var lastScroll = 500;
                var e = document.getElementById("dfp-gpt-ad-mobile-headline");
                var child = e.children[0];
                var position = child.offsetTop;
                lastScroll = position;
    
                //var lastScroll = $('#social-share').offset().top;
                var o = true;
                $(window).scroll(function(event) {
                    //Sets the current scroll position
                    var st = $(this).scrollTop();
    
                    //Determines up-or-down scrolling
                    if (st > lastScroll && o) {
                        if (st > position) {
                            e.classList.add("dfp-hl-sticky");
    
                            var share_active = $(".share-fixed").hasClass("active");
                            if (share_active) {
                                // e.classList.add("up");
                            } else {
                                e.classList.remove("up");
                            }
    
                            window.setTimeout(function() {
                                e.classList.remove("dfp-hl-sticky");
                                o = false;
                            }, 5000);
                        }
                    } else if (st <= position && o) {
                        e.classList.remove("dfp-hl-sticky");
                    } else {
                        e.classList.remove("up");
                    }
                    //Updates scroll position
                    lastScroll = st;
                });
            }
        });
        // End Sticky Headline Banner
    });
</code>
</pre>
<pre>
<code class="javascaript">   
    /** GPT BRILIOFOOD MOBILE - READPAGE **/    
    var category_page = "ReadPage";

    String.prototype.klyFiltering = function(delimiter) {
        return this.trim().split(delimiter).map(function(t) {
            return t.trim().toLowerCase()
        }).filter(x => x != "");
    };

    window.GAMLibrary = {};
    window.GAMLibrary = {
        dfpBottomFrame: '/36504930/brilio.net/mobile/dfp-bottomfrm',
        timedBottomFrm: null,
        defineLazySlot: null,
        setGamBFInterval: function(active = true) {
            if (!active) {
                if (window.GAMLibrary.gamBFInterval) {
                    clearInterval(window.GAMLibrary.gamBFInterval);
                }
                return;
            }
            window.GAMLibrary.gamBFInterval = setInterval(function() {
                googletag.pubads().refresh([window.GAMLibrary.refreshSlot]);
            }, 60000);
        },
        scrollBottomFrame: function() {
            this.scroll = function() {
                var scrollNode = document.scrollingElement || document.documentElement;
                var scrollTop = scrollNode.scrollTop;
                if (scrollTop >= 200) {
                    if (!this.timedBottomFrm) {
                        console.log("generated!", scrollTop);
                        this.timedBottomFrm = googletag.defineSlot(this.dfpBottomFrame, [320, 50],
                            'dfp-gpt-ad-mobile-bottomfrm').addService(googletag.pubads());
                        googletag.pubads().refresh([this.timedBottomFrm]);
                        this.refreshSlot = this.timedBottomFrm;
                        this.setGamBFInterval(false);
                    } else {
                        window.removeEventListener("scroll", this.scroll);
                    }

                }
            };
            this.scrollHandler = this.scroll.bind(this);
            window.addEventListener("scroll", this.scrollHandler);
        },
        lazzyLoadingAdunit: function() {
            const noIntersectionMethod = !window.IntersectionObserver;
            this.lazzyLoadingAdunit = this.lazzyLoadingAdunit.bind(this);
            var lazzYSetting = {
                "dfp-gpt-ad-mobile-headline": {
                    "type": "fixed",
                    "adunit": "/36504930/brilio.net/mobile/dfp-headline",
                    "generated": 0,
                    "size": [320, 50]
                }
            }
            let options = {
                rootMargin: '0px 0px -50% 0px',
                threshold: 0.5 // half of item height
            };
            let prevRatio = 0.0;
            let observer = null;
            if (noIntersectionMethod) {

                window.addEventListener("scroll", renderAdunit);

            } else {

                observer = new IntersectionObserver(entries => {
                    const [{
                        isIntersecting
                    }] = entries;
                    const [{
                        target
                    }] = entries;
                    if (isIntersecting) {
                        console.log('intersected', entries);
                        value = lazzYSetting[target.id];
                        if (!value.generated) {
                            if (value.type == "oop") {
                                this.defineLazySlot = googletag.defineOutOfPageSlot(value.adunit, target
                                    .id).addService(googletag.pubads());
                            } else {
                                this.defineLazySlot = googletag.defineSlot(value.adunit, value.size,
                                    target.id).addService(googletag.pubads());
                            }
                            googletag.display(this.defineLazySlot);
                            googletag.pubads().refresh([this.defineLazySlot]);
                            value.generated = 1;
                            console.log("generated headline !");
                        }
                    }
                }, options);

                for (const [key, value] of Object.entries(lazzYSetting)) {
                    let adunitElement = document.querySelector(`#${key}`);
                    if (adunitElement) {
                        observer.observe(adunitElement);
                    }
                };
            }

            function renderAdunit() {
                var generatedCount = 0;
                var itemCount = 0;

                for (const [key, value] of Object.entries(lazzYSetting)) {
                    itemCount++;

                    if (!value.generated && elementInViewport(document.getElementById(key))) {

                        if (value.type == "oop") {
                            this.defineLazySlot = googletag.defineOutOfPageSlot(value.adunit, key).addService(
                                googletag.pubads());
                        } else {
                            this.defineLazySlot = googletag.defineSlot(value.adunit, value.size, key)
                                .addService(googletag.pubads());
                        }

                        googletag.display(this.defineLazySlot);
                        googletag.pubads().refresh([this.defineLazySlot]);
                        value.generated = 1;

                    }

                    if (generatedCount == itemCount) {
                        window.removeEventListener('scroll', renderAdunit);
                    }
                }

            }

            function elementInViewport(el) {
                let rect = el.getBoundingClientRect()
                return (
                    rect.top >= 0 && rect.left >= 0 && rect.top <= (window.innerHeight || document
                        .documentElement.clientHeight)
                )
            }
        }

    };

    googletag.cmd.push(function() {

        googletag.defineSlot('/36504930/brilio.net/mobile/dfp-sc', [300, 250], 'dfp-gpt-ad-mobile-sc').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineSlot('/36504930/brilio.net/mobile/dfp-sc2', [300, 250], 'dfp-gpt-ad-mobile-sc2').addService(googletag.pubads()).setTargeting("currentUrl", 0);
        googletag.defineOutOfPageSlot('/36504930/brilio.net/mobile/masthead', 'dfp-gpt-ad-mobile-masthead').addService(googletag.pubads()).setTargeting("currentUrl", 0);
    
        GAMLibrary.lazzyLoadingAdunit();
        GAMLibrary.scrollBottomFrame();

        //set targetting key value apa saja yg ingin dimasukkan dalam 1 kali adrequest
        var tagForAds = (typeof window.kly !== 'undefined') ? kly.gtm.tag.klyFiltering("|") : [];
        var urlPath = document.URL;
        googletag.pubads().setTargeting("tags", tagForAds);
        googletag.pubads().setTargeting("currentUrl", urlPath);
        googletag.pubads().setTargeting("channel", kly.gtm.subCategory);
        googletag.pubads().setTargeting("site", kly.site);

        googletag.pubads().enableSingleRequest();
        googletag.pubads().collapseEmptyDivs();
        googletag.enableServices();

    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-sc');
    });
    
    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-sc2');
    });

    googletag.cmd.push(function() {
        googletag.display('dfp-gpt-ad-mobile-masthead');
    });

    googletag.cmd.push(function() {
        // Sticky Headline Banner
        p = "/36504930/brilio.net/mobile/dfp-headline";
        googletag.pubads().addEventListener('slotRenderEnded', function(e) {
            var a = e.isEmpty ? "none" : "block",
                t = e.slot.getSlotId().getAdUnitPath(),
                o = e.slot.getSlotId().getId();

            if ("block" == a && p == t) {
                /* sticky */
                var lastScroll = 500;
                var e = document.getElementById("dfp-gpt-ad-mobile-headline");
                var child = e.children[0];
                var position = child.offsetTop;
                lastScroll = position;

                //var lastScroll = $('#social-share').offset().top;
                var o = true;
                $(window).scroll(function(event) {
                    //Sets the current scroll position
                    var st = $(this).scrollTop();

                    //Determines up-or-down scrolling
                    if (st > lastScroll && o) {
                        if (st > position) {
                            e.classList.add("dfp-hl-sticky");

                            var share_active = $(".share-fixed").hasClass("active");
                            if (share_active) {
                                // e.classList.add("up");
                            } else {
                                e.classList.remove("up");
                            }

                            window.setTimeout(function() {
                                e.classList.remove("dfp-hl-sticky");
                                o = false;
                            }, 5000);
                        }
                    } else if (st <= position && o) {
                        e.classList.remove("dfp-hl-sticky");
                    } else {
                        e.classList.remove("up");
                    }
                    //Updates scroll position
                    lastScroll = st;
                });
            }
        });
        // End Sticky Headline Banner
    });
</code>
</pre>
</div>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    </body>
</html>